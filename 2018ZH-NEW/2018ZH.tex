%!Mode:: "TeX:System

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                           %
%          LaTeX File for Doctor (Master) Thesis of ECNU                    %
%            华东师范大学博士（硕士）论文模板 ____lizb                      %
%                                                                           %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




\documentclass[12pt,openany,a4paper,fancyhdr,twoside]{ctexbook}

%draft 选项可以使插入的图形只显示外框，以加快预览速度。
%\documentclass[11pt,a4paper,openany,draft]{book}
\usepackage{amsmath} 
\usepackage{amssymb}               % AMSLaTeX宏包 用来排出更加漂亮的公式
%\usepackage[CJKbookmarks]{hyperref}
\usepackage{url}
\usepackage{hyperref}
\usepackage{shortvrb,indentfirst,ulem,makeidx}
\usepackage{fancyhdr}
\usepackage{graphicx}
\usepackage{indentfirst,latexsym,colortbl,subfigure,clrscode}


\usepackage[linesnumbered,ruled,vlined]{algorithm2e}%[ruled,vlined]{  
\usepackage{algorithmicx}
\usepackage{listings}
\usepackage{algcompatible}
\usepackage{algpseudocode}


\renewcommand*{\algorithmcfname}{算法}




\SetKwInput{KwIn}{\textbf{输入}}
\SetKwInput{KwOut}{\textbf{输出}}
\SetKwInput{KwReturn}{\textbf{return}}


\usepackage{bibspacing}

\setlength{\bibitemsep}{2\baselineskip plus .05\baselineskip minus .05\baselineskip}


\usepackage{bm}                     % 处理数学公式中的黑斜体的宏包
\usepackage{amssymb}                % AMSLaTeX宏包 用来排出更加漂亮的公式
\usepackage{mathrsfs}
\usepackage[subnum]{cases}
\usepackage[numbers,sort&compress]{natbib}
\usepackage{hypernat}
\usepackage{geometry}
\usepackage{times}
\usepackage{fontspec}
%\usepackage{libertine}
\usepackage{libertineotf}
\usepackage{caption}
\usepackage{titletoc}


%\usepackage{cite}
\usepackage{longtable,booktabs}
\usepackage{multirow}
\usepackage{subfigure}
\usepackage{float}
\usepackage{balance}
\usepackage {paralist}
\usepackage{bbding}
\usepackage{pgffor}

\usepackage{threeparttable}


%\usepackage{biblatex}
\makeindex
\pagestyle{fancy}

\renewcommand{\headrulewidth}{0.4pt}
\fancyfoot[CO,CE]{\thepage}

\renewcommand{\algorithmicrequire}{\textbf{Input:}}
\renewcommand{\algorithmicensure}{\textbf{Output:}}

\newtheorem{Def}{定义}

\newcommand{\yihao}{\fontsize{26pt}{36pt}\selectfont}           % 一号, 1.4 倍行距
\newcommand{\erhao}{\fontsize{22pt}{28pt}\selectfont}          % 二号, 1.25 倍行距
\newcommand{\xiaoer}{\fontsize{18pt}{18pt}\selectfont}          % 小二, 单倍行距
\newcommand{\sanhao}{\fontsize{16pt}{24pt}\selectfont}        % 三号, 1.5 倍行距
\newcommand{\xiaosan}{\fontsize{15pt}{22pt}\selectfont}        % 小三, 1.5 倍行距
\newcommand{\sihao}{\fontsize{14pt}{21pt}\selectfont}            % 四号, 1.5 倍行距
\newcommand{\banxiaosi}{\fontsize{13pt}{19.5pt}\selectfont}    % 半小四, 1.5 倍行距
\newcommand{\xiaosi}{\fontsize{12pt}{18pt}\selectfont}            % 小四, 1.5 倍行距
\newcommand{\dawuhao}{\fontsize{11pt}{11pt}\selectfont}       % 大五号, 单倍行距
\newcommand{\wuhao}{\fontsize{10.5pt}{15.75pt}\selectfont}    % 五号, 单倍行距


\renewcommand*{\bibfont}{\normalfont\normalsize\linespread{1}\selectfont}
\setlength{\bibitemsep}{\baselineskip}



%============================ 可以自定义文字块 ================================%



%交叉引用格式
\renewcommand\figureautorefname{图}
\renewcommand\tableautorefname{表}
\renewcommand\equationautorefname{公式}
\renewcommand{\algorithmautorefname}{算法}






%===============================概念定义===============================% 

\newcommand{\eat}[1]{}

\newcommand{\important}[1]{\CJKunderdot{\textbf{#1}}}

\newcommand{\TheisName}[0]{构建Android 动态函数调用图：RunDroid 的设计与实现}


\newcommand{\TheisNamePartOne}[0]{构建Android 动态函数调用图：}
\newcommand{\TheisNamePartTwo}[0]{RunDroid 的设计与实现}
\newcommand{\TheisNameEn}[0]{{\Large The Building of Android Dynamic Function Call Graph: }\\ The Design and Implement of RunDroid}

\newcommand{\code}[1]{\textit{ #1 }}
\newcommand{\point}[1]{\noindent{\textbf{$\S$  #1 }}}



\newcommand{\todo}[1]{\textcolor[rgb]{1,0,0}{\textbf{ #1 }}}
\newcommand{\question}[1]{\textcolor[rgb]{1,0,0}{\textbf{ #1 }?}}

\newcommand{\invoke}[2]{  $ (  #1 \to   #2)  $ }
\newcommand{\trigger}[2]{  $ (  #1 \hookrightarrow   #2)  $ }


\newcommand{\methodObjectRel}[3]{  $ (  #1 \stackrel{#2}{\longrightarrow}   #3)  $ }

%%% ----------------------------------------------------------------------



%============================= 版芯控制 ================================%
\setlength{\oddsidemargin}{0.57cm}
\setlength{\evensidemargin}{\oddsidemargin}
\voffset-6mm \textwidth=150mm \textheight=230mm \headwidth=150mm
%\rightmargin=35mm
%                                                                       %


%============================= 页面设置 ================================%
%-------------------- 定义页眉和页脚 使用fancyhdr 宏包 -----------------%
% 定义页眉与正文间双隔线
\newcommand{\makeheadrule}{%
\makebox[0pt][l]{\rule[.7\baselineskip]{\headwidth}{0.4pt}}%
\rule[0.85\baselineskip]{\headwidth}{0.4pt} \vskip-.8\baselineskip}
\makeatletter
\renewcommand{\headrule}{%
{\if@fancyplain\let\headrulewidth\plainheadrulewidth\fi
\makeheadrule}} \makeatother

\newcommand{\adots}{\mathinner{\mkern 2mu%
\raisebox{0.1em}{.}\mkern 2mu\raisebox{0.4em}{.}%
\mkern2mu\raisebox{0.7em}{.}\mkern 1mu}}

\setmainfont{Times New Roman}
\dottedcontents{chapter}[1.5cm]{\xiaosi\heiti}{3.8em}{9.5pt}
\lhead{华东师范大学硕士专业学位论文}

\dottedcontents{section}[1.5cm]{\xiaosi\heiti}{2.8em}{9.5pt}
\lhead{华东师范大学硕士专业学位论文}

%=============================== 代码格式定义 ================================%
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
\lstdefinestyle{mystyle}{
	frame=single,
	framexleftmargin=1.5em,
	commentstyle=\color{codegreen},
	keywordstyle=\color{magenta},
	numberstyle=\scriptsize ,
	stringstyle=\color{codepurple},
	basicstyle=\scriptsize,
	breakatwhitespace=false,         
	breaklines=true,                 
	captionpos=b,                    
	keepspaces=true,                 
	numbers=left,                    
	numbersep= 5pt,                  
	showspaces=false,                
	showstringspaces=false,
	showtabs=false,   
	xleftmargin=2em,       
	tabsize=2
}

\lstset{style=mystyle}

%=============================== 正文部分 ================================%

\begin{document}
\input{A1-COVER-1.tex}


\input{A2-COVER-E.tex}


\input {A3-COPYRIGHT.tex}



\input{A4-MEMBERLIST.tex}


\newpage
\pagenumbering{roman}
\pagestyle{plain}
\input {B1-ABSTRACT.tex}


\input {B2-ABSTRACT-E.tex}


%\clearpage{\pagestyle{plain}\cleardoublepage}
%\textcolor[rgb]{1,1,1}{文本} 

\setcounter{tocdepth}{2}
\tableofcontents


\input{B3-FIGURES.tex}



\input{B5-TABLES.tex}
%\input{B4-SYMBOLS.tex}



\newpage
\pagenumbering{arabic}
\pagestyle{fancy}
\fancyhead[LE,RO]{华东师范大学硕士专业学位论文}
\fancyhead[RE,LO]{ \leftmark}



\CTEXsetup[format+={\zihao{3}\heiti}]{chapter}
\CTEXsetup[format+={\raggedright\zihao{4}\heiti}]{section}
\CTEXsetup[format+={\zihao{-4}\heiti}]{subsection}


\setlength{\baselineskip}{25pt}  %%正文设为25磅行间距

% 在章首页添加页眉

\fancypagestyle{plain}{%
\fancyhead[LE,RO]{华东师范大学硕士专业学位论文}
\fancyhead[RE,LO]{ \leftmark}
}




\input {chapter-intro.tex}



\input {chapter-background.tex}

\input{chapter-definition.tex}


\input {chapter-design.tex}

\input {chapter-implement.tex}

\input {chapter-testing.tex}




\input {chapter-future.tex}

\clearpage
	%\addcontentsline{toc}{chapter}{参考文献}
	\bibliographystyle{GBT7714-2005}
	\bibliography{bib/tex}


\eat{

\clearpage

\fancypagestyle{plain}{%
	\fancyhead[LE,RO]{华东师范大学硕士专业学位论文}
	\fancyhead[RE,LO]{ 致  谢}
}


\addcontentsline{toc}{chapter}{致  谢}

\input {D2-ACHNOWLEDGEMENT.tex}
}
\clearpage


\fancypagestyle{plain}{%
	\fancyhead[LE,RO]{华东师范大学硕士专业学位论文}
	\fancyhead[RE,LO]{ 攻读学位期间发表的学术论文}
}



\addcontentsline{toc}{chapter}{攻读学位期间发表的学术论文}
\input {D3-MYACHIEVEMENTS.tex}



\end{document}

